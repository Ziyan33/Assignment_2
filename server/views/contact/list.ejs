<!--
File:       contact.ejs
Name:       Ziyan Liu
Student Id: 301133339
Date:       2022-10-01
-->


<%- include ('../partials/header.ejs') %>

    <%- include ('../partials/main_nav.ejs') %>

        <!--Main Content-->
        <main class="container">
            <div class="row">
                   <div class="offset-md-1 col-md-11">
                    <h1><%= title %></h1>
<br/>
                    <% if(typeof displayName=='string' && displayName) { %>
                    <a href="/contact-list/add" class="btn btn-primary" role="button">
                        <i class="fas fa-plus-circle"></i>Add a Contact
                    </a>
                    <% } %>
<br/>
                    <br>
                    <table class="table table-borered table-striped table-hover">
                        <!--Header Row-->
                        <tr class="d-flex">
                        <% if(typeof displayName=='string' && displayName) { %>
                            <th class="text-center col-2">Name</th>
                            <th class="text-center col-2">Contact Number</th>
                            <th class="text-center col-2">Email</th>
                            <th class="text-center col-1"></th>
                            <th class="text-center col-1"></th>
                            <% } else { %>
                            <th class="text-center col-2">Name</th>
                            <th class="text-center col-2">Contact Number</th>
                            <th class="text-center col-2">Email</th>

                            <% } %>
                        </tr><br/>

                        <!--Repeatable Tempate Row-->
                        <% for (let count=0; count<ContactList.length; count++) { %>
                            <tr class="d-flex">
                              <% if(typeof displayName=='string' && displayName) { %>
                              <td class="text-center col-2"><%= ContactList[count].name %></td>
                              <td class="text-center col-2"><%= ContactList[count].contactNum %></td>
                              <td class="text-center col-2"><%= ContactList[count].email %></td>

                              <td class="text-center col-1">
                                <a href="/contact-list/edit/<%= ContactList[count]._id %>" class="btn btn-primary btn-sm">
                                    <i class="fas fa-pencil-alt"></i> Edit
                                </a>
                              </td>
                              <td class="text-center col-1">
                                <a href="/contact-list/delete/<%= ContactList[count]._id %>" class="btn btn-danger btn-sm">
                                    <i class="fas fa-trash-alt"></i> Delete                               
                                </a>
                              </td>   
                              <% } else { %>    
                              <td class="text-center col-2"><%= ContactList[count].name %></td>
                              <td class="text-center col-2"><%= ContactList[count].contactNum %></td>
                              <td class="text-center col-2"><%= ContactList[count].email %></td>


                              <% } %>                     
                            </tr>
                          <% } %>
                    </table><br/>
                    
                </div>
            </div>

        </main>

        <%- include ('../partials/bottom_nav.ejs') %>

            <%- include ('../partials/footer.ejs') %>